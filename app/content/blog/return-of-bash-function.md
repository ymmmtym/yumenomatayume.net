---
title: "ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®é–¢æ•°ã‹ã‚‰æˆ»ã‚Šå€¤ã‚’è¿”ã™æ–¹æ³• ğŸš"
description: "Bash é–¢æ•°ã§æˆ»ã‚Šå€¤ã‚’è¿”ã™æ­£ã—ã„æ–¹æ³•ã¨ return ã‚³ãƒãƒ³ãƒ‰ã¨ã®é•ã„"
pubDate: "2021-08-22"
tags: ["bash","linux","ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ"]
---

Bash ã®é–¢æ•°ã§æˆ»ã‚Šå€¤ã‚’è¿”ã™æ–¹æ³•ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™ ğŸš ä»–ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã¨ã¯ç•°ãªã‚‹ç‚¹ãŒã‚ã‚‹ãŸã‚ã€æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚

## åŸºæœ¬çš„ãªè€ƒãˆæ–¹

Bash é–¢æ•°ã§æˆ»ã‚Šå€¤ã‚’è¿”ã™ã«ã¯ã€**`echo` ã‚³ãƒãƒ³ãƒ‰**ã‚’ä½¿ç”¨ã—ã¾ã™ âœ…

`return` ã‚³ãƒãƒ³ãƒ‰ã¯çµ‚äº†ã‚³ãƒ¼ãƒ‰ï¼ˆ0-255ã®æ•°å€¤ï¼‰ã‚’è¿”ã™ãŸã‚ã®ã‚‚ã®ã§ã‚ã‚Šã€æ–‡å­—åˆ—ã‚„å€¤ã‚’è¿”ã™ãŸã‚ã®ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ âš ï¸

## é–“é•ã£ãŸä½¿ã„æ–¹

`return` ã‚’ä½¿ç”¨ã—ãŸä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ `echo_double.sh` ã‚’ä½œæˆã—ã¦ã¿ã¾ã™ï¼š

```bash
#!/usr/bin/env bash

test1(){
    return "hoge"
}

test2(){
    return "fuga"
}

echo_double(){
    echo $1 $2
}

echo_double $(test1) $(test2)
```

ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ï¼š

```bash
$ bash echo_double.sh
test.sh: line 4: return: hoge: numeric argument required
test.sh: line 9: return: fuga: numeric argument required
```

`return` ã¯æ•°å€¤ã®ã¿ã‚’å—ã‘å–ã‚‹ãŸã‚ã€æ–‡å­—åˆ—ã‚’æ¸¡ã™ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ ğŸ˜µ

## æ­£ã—ã„ä½¿ã„æ–¹

`return` ã‚’ `echo` ã«ä¿®æ­£ã—ã¾ã™ï¼š

```bash
#!/usr/bin/env bash

test1(){
    echo "hoge"
}

test2(){
    echo "fuga"
}

echo_double(){
    echo $1 $2
}

echo_double $(test1) $(test2)
```

å®Ÿè¡Œçµæœï¼š

```bash
$ bash echo_double.sh 
hoge fuga
```

æœŸå¾…é€šã‚Šã®çµæœãŒå¾—ã‚‰ã‚Œã¾ã—ãŸ âœ¨

## return ã‚³ãƒãƒ³ãƒ‰ã®æ­£ã—ã„ä½¿ã„æ–¹

`return` ã‚³ãƒãƒ³ãƒ‰ã¯é–¢æ•°ã®çµ‚äº†ã‚³ãƒ¼ãƒ‰ã‚’è¨­å®šã™ã‚‹éš›ã«ä½¿ç”¨ã—ã¾ã™ï¼š

```bash
#!/usr/bin/env bash

check_file(){
    if [ -f "$1" ]; then
        return 0  # æˆåŠŸ
    else
        return 1  # å¤±æ•—
    fi
}

# ä½¿ç”¨ä¾‹
if check_file "test.txt"; then
    echo "ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ã¾ã™"
else
    echo "ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ã¾ã›ã‚“"
fi
```

## ã¾ã¨ã‚

- **æˆ»ã‚Šå€¤ã‚’è¿”ã™**: `echo` ã‚’ä½¿ç”¨ ğŸ“¤
- **çµ‚äº†ã‚³ãƒ¼ãƒ‰ã‚’è¨­å®š**: `return` ã‚’ä½¿ç”¨ ğŸ”¢
- ä»–ã®è¨€èªã® `return` ã¨ã¯å‹•ä½œãŒç•°ãªã‚‹ã“ã¨ã«æ³¨æ„ ğŸ’¡

ã“ã®é•ã„ã‚’ç†è§£ã™ã‚‹ã“ã¨ã§ã€Bash ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚ˆã‚ŠåŠ¹æœçš„ã«æ›¸ãã“ã¨ãŒã§ãã¾ã™ ğŸš€

## å‚è€ƒæ–‡çŒ®

- [Bash ã®æ§‹æ–‡: é–¢æ•°ã‹ã‚‰æˆ»ã‚Šå€¤ã‚’è¿”ã™ | ã¾ãã¾ãLinux/Shellãƒãƒ¼ãƒˆ](https://maku77.github.io/linux/syntax/return-value-from-function.html)