---
title: "Macで永続的にスタティックルートを設定する方法 🛣️"
description: "MacでIPルーティングを永続的に設定する方法について解説します。`ip`コマンドではなく、`networksetup`コマンドを使った設定方法を詳しくご紹介します。"
pubDate: "2025-11-29"
tags: ["mac", "network", "cli", "troubleshooting"]
---

Macで静的なIPルートを設定しようとした際に、`ip`コマンドを使っても再起動後に設定が失われてしまうことがあります。これは、macOSでは`ip`コマンドがルーティングの永続化をサポートしていないためです。

しかし、macOSには`networksetup`という強力なコマンドラインツールがあり、これを使用することで永続的なスタティックルートを設定することができます。

### networksetupコマンドの基本的な使い方

`networksetup`コマンドを使ってスタティックルートを追加するには、以下のコマンドを実行します。

```bash
networksetup -setadditionalroutes "Ethernet" 192.168.100.0 255.255.255.0 192.168.0.2
```

このコマンドの各要素は以下の意味を持ちます。

*   `-setadditionalroutes`: 追加のルーティングを設定するためのオプションです。
*   `"Ethernet"`: ルーティングを設定するネットワークインターフェースの名前です。ご自身の環境に合わせて`"Wi-Fi"`など、適切なインターフェース名に置き換えてください。インターフェース名は、`networksetup -listallnetworkservices`コマンドで確認できます。
*   `192.168.100.0`: 目的のネットワークアドレスです。このネットワークへの通信をルーティングします。
*   `255.255.255.0`: 目的のネットワークのサブネットマスクです。
*   `192.168.0.2`: ゲートウェイアドレス（ネクストホップ）です。目的のネットワークへのトラフィックがこのゲートウェイを通じて送信されます。

### 注意事項

*   設定を変更する前に、現在のネットワーク設定をバックアップしておくことをお勧めします。
*   誤ったルーティング設定は、ネットワーク接続に問題を引き起こす可能性がありますので、慎重に設定を行ってください。

この方法で`networksetup`コマンドを使用すれば、Macで永続的にスタティックルートを設定し、システム再起動後も設定が維持されるようになります。ネットワーク環境に合わせて適切に設定を調整し、快適なネットワーク利用を実現してください。
